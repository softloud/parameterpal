<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Obtain beta parameters from interpretable conditions • parameterpal</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Obtain beta parameters from interpretable conditions">
<meta property="og:description" content="parameterpal">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@cantabile">
<meta name="twitter:site" content="@MMetaresearch">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">parameterpal</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/betapal.html">Obtain beta parameters from interpretable conditions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="betapal_files/header-attrs-2.3/header-attrs.js"></script><script src="betapal_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Obtain beta parameters from interpretable conditions</h1>
                        <h4 class="author">Charles T. Gray</h4>
            
            <h4 class="date">2020-08-29</h4>
      
      
      <div class="hidden name"><code>betapal.Rmd</code></div>

    </div>

    
    
<p>Do you use beta distributions in your science? Do you find the parameters uninterpretable?</p>
<p>Obtain parameters for the beta distribution from interpretable conditions.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>installation</h2>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"softloud/parameterpal"</span>, <span class="kw">build_vignettes</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
</div>
<div id="using-parameterpal" class="section level2">
<h2 class="hasAnchor">
<a href="#using-parameterpal" class="anchor"></a>using <code>parameterpal::</code>
</h2>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">parameterpal</span>)</pre></body></html></div>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">usage_example</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
  <span class="kw">expected_value</span> <span class="kw">=</span> <span class="fl">0.3</span>,
  <span class="kw">within</span> <span class="kw">=</span> <span class="fl">0.2</span>,
  <span class="kw">this_much</span> <span class="kw">=</span> <span class="fl">0.8</span>
)</pre></body></html></div>
<p>Suppose we expect a value of 0.3, with 80 per cent of observations falling within a distance of 0.2 from 0.3.</p>
<p>That is, we expect 80 per cent of observations to fall within (0.1, 0.5). Assuming data follow a beta distribution, what are its parameters?</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="../reference/beta_pal.html">beta_pal</a></span>(<span class="kw">expected_value</span> <span class="kw">=</span> <span class="no">usage_example</span>$<span class="no">expected_value</span>,
         <span class="kw">within</span> <span class="kw">=</span> <span class="no">usage_example</span>$<span class="no">within</span>,
         <span class="kw">this_much</span> <span class="kw">=</span> <span class="no">usage_example</span>$<span class="no">this_much</span>)
<span class="co">#&gt; $shape1_est</span>
<span class="co">#&gt; [1] 2.306909</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $shape2_est</span>
<span class="co">#&gt; [1] 5.382787</span></pre></body></html></div>
<p>We can plot this intuition to see the shape of the resulting beta distribution.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="../reference/beta_plot.html">beta_plot</a></span>(<span class="kw">expected_value</span> <span class="kw">=</span> <span class="no">usage_example</span>$<span class="no">expected_value</span>,
         <span class="kw">within</span> <span class="kw">=</span> <span class="no">usage_example</span>$<span class="no">within</span>,
         <span class="kw">this_much</span> <span class="kw">=</span> <span class="no">usage_example</span>$<span class="no">this_much</span>)</pre></body></html></div>
<p><img src="betapal_files/figure-html/unnamed-chunk-6-1.png" width="480"></p>
<p>Specifying the width enables us to escape the ubiquitous tyranny of the arbitary bounds of 95 per cent, which doesn’t necessarily reflect our intuition, suppose we thought only</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">new_example_width</span> <span class="kw">&lt;-</span> <span class="fl">0.3</span></pre></body></html></div>
<p>30 per cent of values fall within the interval.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="../reference/beta_pal.html">beta_pal</a></span>(<span class="kw">expected_value</span> <span class="kw">=</span> <span class="no">usage_example</span>$<span class="no">expected_value</span>,
         <span class="kw">within</span> <span class="kw">=</span> <span class="no">usage_example</span>$<span class="no">within</span>,
         <span class="kw">this_much</span> <span class="kw">=</span> <span class="no">new_example_width</span>)
<span class="co">#&gt; $shape1_est</span>
<span class="co">#&gt; [1] 0.3087453</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $shape2_est</span>
<span class="co">#&gt; [1] 0.7204056</span></pre></body></html></div>
</div>
<div id="motivation" class="section level2">
<h2 class="hasAnchor">
<a href="#motivation" class="anchor"></a>motivation</h2>
<p>Rather than knowing intrinsically what parameters are required for a distribution, scientists tend to have indirect knowledge. A researcher may have a sense of what value they <em>expect</em> a measure to take, <em>how many</em> observations should fall <em>within</em> a certain distance of that value. As well as the overall shape of the data, the distribution. Distributions are not defined in the intuitive terms the scientist has, but equational parameters commonly (but not always) <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> for the normal distribution, <span class="math inline">\(\lambda\)</span> for the exponential, and <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> for the beta distribution. However, calculating the required parameters is not necessarily straightfoward, despite the conditioning we receive from the normal distribution.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="co"># set normal distribution example parameters</span>
<span class="no">norm_expected_value</span> <span class="kw">&lt;-</span> <span class="fl">0.5</span>
<span class="no">norm_within</span> <span class="kw">&lt;-</span> <span class="fl">0.2</span></pre></body></html></div>
<p>For the normal distribution, obtaining the parameters from these assumptions is straightforward. The expected value and variance, which is to say, centre and spread, of the normal distribution, are both easily interpretable and translate directly to the parameters required for the distribution. So, to sample three values from a normal distribution where we expect a value of 0.5 with two-thirds of values falling within 0.2 of 0.5, we simply run the following code.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="kw">n</span> <span class="kw">=</span> <span class="fl">3</span>,
      <span class="kw">mean</span> <span class="kw">=</span> <span class="no">norm_expected_value</span>,
      <span class="kw">sd</span> <span class="kw">=</span> <span class="no">norm_within</span>)
<span class="co">#&gt; [1] 0.1499015 0.1982818 0.2273453</span></pre></body></html></div>
<p>The first parameter is the expected value, and the second, the variance. For the normal distribution, the standard deviation is interpretable. We know two-thirds of values fall within one standard deviation of the mean. If we shade this area in a visualisation, it’s convincing that two-thirds of values fall within this range.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">xlim</a></span>(<span class="fl">0</span>, <span class="fl">1</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">geom_rect</a></span>(
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(
      <span class="kw">xmin</span> <span class="kw">=</span> <span class="no">norm_expected_value</span> - <span class="no">norm_within</span>,
      <span class="kw">xmax</span> <span class="kw">=</span> <span class="no">norm_expected_value</span> + <span class="no">norm_within</span>,
      <span class="kw">ymin</span> <span class="kw">=</span> <span class="fl">0</span>,
      <span class="kw">ymax</span> <span class="kw">=</span> <span class="fl">Inf</span>,
      <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">0.2</span>)) +
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html">stat_function</a></span>(
  <span class="kw">fun</span> <span class="kw">=</span> <span class="no">dnorm</span>,
  <span class="kw">args</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">mean</span> <span class="kw">=</span> <span class="no">norm_expected_value</span>, <span class="kw">sd</span> <span class="kw">=</span> <span class="no">norm_within</span>)
) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="kw">legend.position</span> <span class="kw">=</span> <span class="st">"none"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(
    <span class="kw">y</span> <span class="kw">=</span> <span class="kw">NULL</span>,
    <span class="kw">title</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span>(<span class="st">"normal(%g, %g)"</span>, <span class="no">norm_expected_value</span>, <span class="no">norm_within</span>),
    <span class="kw">caption</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span>(<span class="st">"Two-thirds of normally distributed values fall within %g of %g."</span>, <span class="no">norm_within</span>, <span class="no">norm_expected_value</span>)
  )</pre></body></html></div>
<p><img src="betapal_files/figure-html/unnamed-chunk-11-1.png" width="480"></p>
<p>The beta distribution, on the other hand, requires two shape parameters, <code>shape1</code> and <code>shape2</code>, which do not immediately reflect our intuition of what value we expect the measure to take, nor how much variance we expect.</p>
<p>But if we wished to sample from beta distribution, however, the parameters, <code>shape1</code> and <code>shape2</code>, are not readily interpretable from expected value and variance. <code>parameterpal::</code> provides a means of obtaining the parameters required for the beta distribution from interpretable conditions.</p>
</div>
<div id="beta-distribution" class="section level2">
<h2 class="hasAnchor">
<a href="#beta-distribution" class="anchor"></a>beta distribution</h2>
<p>The beta distribution has some really nice properties. It is bounded by a minimum value of 0 and a maximum of 1, so is perfect for modeling proportions.</p>
<p>Under some circumstances it can mimic a truncated bell curve, as well as flexibility for other shapes, such as a truncated parabola.</p>
<p>But this is not intuitive. What shape do we expect <span class="math inline">\(\mathrm{beta}(1,2)\)</span> to take? It’s hard to intuit from the parameters 1 and 2. But, we likely do not expect a negatively sloped line.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">xlim</a></span>(<span class="fl">0</span>, <span class="fl">1</span>) +
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html">stat_function</a></span>(
  <span class="kw">fun</span> <span class="kw">=</span> <span class="no">dbeta</span>,
  <span class="kw">args</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">shape1</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">shape2</span> <span class="kw">=</span> <span class="fl">2</span>)
)</pre></body></html></div>
<p><img src="betapal_files/figure-html/unnamed-chunk-12-1.png" width="480"></p>
</div>
<div id="original-application" class="section level2">
<h2 class="hasAnchor">
<a href="#original-application" class="anchor"></a>original application</h2>
<p>This code was developed for <a href="https://github.com/softloud/simeta"><code>softloud/simeta::</code></a>, research software that supported <code>softloud</code>’s dissertation. This problem is a very small component of a larger collection of simulation functions for randomly generating meta-analysis data.</p>
<p>In this case, given a population <span class="math inline">\(N\)</span>, what proportion are allocated to the case and control groups? A desire to reflect the uncertainty of designed experiments motivated this code.</p>
<p>For example, even if case and control groups were assigned evenly, in experimental science there are many reasons individuals may drop out of the groups. Thus a proportion of <span class="math inline">\(N\)</span> was sampled from a beta distribution (which is bounded between 0 and 1, as proportions are, too), with an intuition of how many drop outs are anticipated.</p>
</div>
<div id="citing-this-package" class="section level1">
<h1 class="hasAnchor">
<a href="#citing-this-package" class="anchor"></a>citing this package</h1>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/citation.html">citation</a></span>(<span class="kw">package</span> <span class="kw">=</span> <span class="st">"parameterpal"</span>)
<span class="co">#&gt; Warning in citation(package = "parameterpal"): could not determine year for</span>
<span class="co">#&gt; 'parameterpal' from package DESCRIPTION file</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; To cite package 'parameterpal' in publications use:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Charles Gray (NA). parameterpal: Intepretable parameters for the beta</span>
<span class="co">#&gt;   distribution. R package version 0.0.1.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; A BibTeX entry for LaTeX users is</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   @Manual{,</span>
<span class="co">#&gt;     title = {parameterpal: Intepretable parameters for the beta distribution},</span>
<span class="co">#&gt;     author = {Charles Gray},</span>
<span class="co">#&gt;     note = {R package version 0.0.1},</span>
<span class="co">#&gt;   }</span></pre></body></html></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Charles Gray.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
